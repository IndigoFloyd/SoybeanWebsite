<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Fri Jun 16 2023 12:59:10 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="6481afe560ae807f1d6cf125" data-wf-site="6475428339f277007afc4798">

<head>
  <meta charset="utf-8">
  <title>Predict</title>
  <meta content="Predict" property="og:title">
  <meta content="Predict" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="../static/css/normalize.css" rel="stylesheet" type="text/css">
  <link href="../static/css/webflow.css" rel="stylesheet" type="text/css">
  <link href="../static/css/indigofloyds-soybean-website.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="../static/js/webfont.js" type="text/javascript"></script>
  <script
    type="text/javascript">WebFont.load({ google: { families: ["Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic", "PT Serif:400,400italic,700,700italic", "Roboto:300,regular,500"] } });</script>
  <script
    type="text/javascript">!function (o, c) { var n = c.documentElement, t = " w-mod-"; n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch") }(window, document);</script>
  <link href="../static/images/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="../static/images/webclip.png" rel="apple-touch-icon">
  <link href="../static/css/fileinput.min.css" rel="stylesheet" />
  <link href="../static/css/bootstrap.min.css" rel="stylesheet">
  <script src="//cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>
  <script src="../static/js/fileinput.min.js" type="text/javascript"></script>
  <style>
    .button-container {
      display: flex;
      justify-content: space-evenly;
    }

    .form-check-input:checked {
      background-color: #face6a;
      border-color: #face6a;
    }
  </style>
</head>

<body>
  <div data-collapse="medium" data-animation="default" data-duration="400" data-easing="ease" data-easing2="ease"
    role="banner" class="navigation-bar w-nav">
    <div class="w-container">
      <a href="/" class="brand-link w-nav-brand"><img src="../static/images/logo2.jpg" loading="lazy" width="50"
          sizes="49.9921875px"
          srcset="../static/images/logo2-p-500.jpg 500w, ../static/images/logo2-p-800.jpg 800w, ../static/images/logo2-p-1080.jpg 1080w, ../static/images/logo2-p-1600.jpg 1600w, ../static/images/logo2.jpg 1683w"
          alt="" class="image-3">
        <h1 class="brand-text">soyDNGP<br></h1>
      </a>
      <nav role="navigation" class="navigation-menu w-nav-menu">
        <a href="/" class="navigation-link w-nav-link">Home</a>
        <a href="/contact" class="navigation-link w-nav-link">Contact</a>
        <a href="/LearnMore" class="navigation-link w-nav-link">Learn More</a>
      </nav>
      <div class="hamburger-button w-nav-button">
        <div class="w-icon-nav-menu"></div>
      </div>
    </div>
  </div>
  <div class="section lookupsection wf-section">
    <div class="w-container">
      <div class="section-title-group">
        <h2 class="section-heading centered lookupheading">predict your file</h2>
      </div>
      <p id="thanks-text" class="thankstext">Upload your *.vcf file, and choose traits to predict.<br>You can choose
        whether contribute your results to our database or not.<br></p>
      <div class="form-wrapper w-form">
        <form action="/Predict" method="post">
          <div class="container my-5">
            <div class="file-loading">
              <input id="file" name='file' type="file" multiple class="file" accept=".vcf"
                data-preview-file-type="text">
            </div>


            <script>
              $("#file").fileinput({
                minFileCount: 1,
                maxFileCount: 1,
                uploadUrl: "/upload",
                showPreview: false,
                allowedFileExtensions: ["vcf"],
                browseOnZoneClick: true,
                maxFileSize: 1024 * 1024 * 1024, //1024MB
                uploadClass: "btn button btn-outline-warning text-white",
                removeClass: "btn button btn-outline-warning text-white",
                cancelClass: "btn button btn-outline-warning text-white",
                browseClass: "btn button btn-outline-warning text-white"
              });
            </script>

            <div class="table-responsive mb-3">
              <table class="table table-checkable">
                <tr>
                <tr>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="1"
                      title="Maturity group (MATGROUP) Maturity evaluation. 000 = earliest, X = latest."
                      data-bs-toggle="checkbox"> MG</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="2"
                      title="Stem termination type (STEMTERM) Evaluation of stem growth habit, coded for determinate to indeterminate."
                      data-bs-toggle="checkbox"> ST</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="3"
                      title="Flower color (FLWRCOLOR) Flower color." data-bs-toggle="checkbox"> FC</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="4"
                      title="Pubescence color (PUBCOLOR) Pubescence color." data-bs-toggle="checkbox"> P_CLR</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="5"
                      title="Pubescence form (PUBFORM) Pubescence form." data-bs-toggle="checkbox"> P_FRM</td>
                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="6"
                      title="Pubescence density (PUBDENSITY) Pubescence density." data-bs-toggle="checkbox"> PDENS</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="7"
                      title="Pod color (PODCOLOR) Pod color." data-bs-toggle="checkbox"> POD</td>
                </tr>
                <tr>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="8"
                      title="Seed coat luster (SCOATLUST) Seed coat luster." data-bs-toggle="checkbox"> SC_L</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="9"
                      title="Seed coat color (SCOATCOLOR) Seed coat color." data-bs-toggle="checkbox"> SC_CLR</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="10"
                      title="Hilum color (HILUMCOLOR) Hilum color." data-bs-toggle="checkbox"> H_CLR</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="11"
                      title="Protein (PROTEIN) Protein percent of dry weight of seed. Ex: 26.8, 49.9"
                      data-bs-toggle="checkbox"> Protein</td>
                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="12"
                      title="Oil (OIL) Oil percent of dry weight of seed. Ex: 16.4, 19.2" data-bs-toggle="checkbox"> Oil
                  </td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="13"
                      title="Linoleic (LINOLEIC) Linoleic acid percent of oil. Ex: 44.1, 56.2"
                      data-bs-toggle="checkbox"> Linoleic</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="14"
                      title="Linolenic (LINOLENIC) Linolenic acid percent of oil. Ex: 6.3, 11.5"
                      data-bs-toggle="checkbox"> Linolenic</td>

                </tr>
                <tr>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="15"
                      data-bs-toggle="checkbox"> Stem term</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="16"
                      title="Flowering (FLOWERDATE) Date that 50% of the plants have begun to flower; expressed as month (1 or 2 digits) and day (2 digits). Descriptor is a numeric field. Blank value means no data. Ex: 806"
                      data-bs-toggle="checkbox"> R1</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="17"
                      title="Maturity date (MATDATE) Date that 95% of the pods have reached final color; expressed as month (1 or 2 digits) and day (2 digits). Blank value means no data. Ex: 1009"
                      data-bs-toggle="checkbox"> R8</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="18"
                      title="Height (HEIGHT) Plant height from ground to stem tip in centimeters measured at maturity. Descriptor is a numeric field. 999 = PROCUMBENT
" data-bs-toggle="checkbox"> Hgt</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="19"
                      title="Score based on percentage of seedcoat with dark pigment as follows: 
                      1 = no mottling 
                      2 = 1 to 10% 
                      3 = 10 to 25% 
                      4 = 25 to 50% 
                      5 = >50% " data-bs-toggle="checkbox"> Mot
                  </td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="20"
                      title="Lodging (LODGING) Tendency of plant to lodge, measured at maturity. Scored 1 (erect) to 5 (prostrate)"
                      data-bs-toggle="checkbox"> Ldg</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="21"
                      title="Seed quality (SEEDQUAL) Visual quality evaluation considering wrinkling, defective seed coat, greenish or diseased seeds. Descriptor is a numeric field. Ex: 1.6. 1.0 = GOOD, 5.0 = POOR."
                      data-bs-toggle="checkbox"> SQ</td>

                </tr>
                <tr>
                  
                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="22"
                      title="Seed weight (SEEDWEIGHT) Weight of 100 seeds in grams (g)." data-bs-toggle="checkbox">
                    SdWgt</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="23"
                      title="Yield (YIELD) Yield in megagrams per hectare (Mg/ha) at 13% seed moisture. Ex: 2.21, 3.05"
                      data-bs-toggle="checkbox"> Yield</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="24"
                      title="Oleic's percentage of total fatty acids" data-bs-toggle="checkbox"> Oleic</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="25"
                      title="Palmitic's percentage of total fatty acids" data-bs-toggle="checkbox"> Palmitic</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="26"
                      title="" data-bs-toggle="checkbox"> PRR1</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="27"
                      title="" data-bs-toggle="checkbox"> SCN3</td>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" value="28"
                      title="Stearic's percentage of total fatty acids" data-bs-toggle="checkbox"> Stearic</td>

                </tr>
                <tr>

                  <td class="text-white"><input class="form-check-input" type="checkbox" name="options" id="checkall"
                      value="all" title="All traits will be predicted." data-bs-toggle="checkbox"> ALL</td>

                </tr>
              </table>

              <button class="button mb-3" , data-bs-toggle="modal" data-bs-target="#joinDbModal"
                type="button">Predict</button>
              <div class="modal fade" id="joinDbModal" tabindex="-1" aria-labelledby="joinDbModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="joinDbModalLabel">Would you like to join our database?</h5>
                    </div>
                    <div class="modal-body">
                      <p>To enlarge our database, your choose is significant. Would you like to support us with your
                        predict results? We won't use it for commercial utilities.</p>
                    </div>
                    <div class="modal-footer">
                      <button class="btn btn-warning" data-bs-dismiss="modal" id="joinDbBtn">Yes</button>
                      <button class="btn btn-secondary" data-bs-dismiss="modal" id="nojoinDbBtn">No</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="progress" id="predictProgress" style="display:none">
                <div id="progress-bar" class="progress-bar progress-bar-striped bg-success progress-bar-success"
                  role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  {% if not df.empty %}
  <script>
    $(function () {
      document.querySelector('#predictProgress').style.display = "none";
    });
  </script>
  <section style="padding: 80px 10px; border-bottom: 2px solid #000000;">
    <div class="w-container">
      <div class="section-title-group">
        <h2 class="section-heading centered text-secondary">Predict results</h2>
        <div style="width: 100%; overflow:auto;">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                {% for col in col_names %}
                <th>
                  <h5 class="text">{{ col }}</h5>
                </th>
                {% endfor %}
              </tr>
            </thead>
            <tbody>
              {% for row in df.iterrows() %}
              <tr>
                {% for col in row[1] %}
                <td>
                  <h5 class="text">{{ col }}</h5>
                </td>
                {% endfor %}
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
      <div class="button-container">
        {% if page > 1 %}
        <a href="/pageprev"><button class="button">Prev</button></a>
        {% endif %}
        {% if page < total_pages %} <a href="/pagenext"><button class="button">Next</button></a>
          {% endif %}
          <a href="/download"><button class="button">Download</button></a>
      </div>
    </div>
  </section>
  {% endif %}


  <script src="//cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script>
    $(function () {
      // 全选
      $('#checkall').click(function () {
        $('input[name=options]').prop('checked', this.checked);
      });
    });
  </script>
  <script>
    var progressBar = document.querySelector('#progress-bar');
    var progressInterval;
    // 点击确定后开始预测
    $(function () {
      $('#joinDbBtn').click(function () {
        let options = $('input[name="options"]:checked').map(function () {
          return $(this).val();
        }).get();
        // 构造请求参数
        let data = {
          "options": options,
          "join": "yes"
        }
        // 调用/Predict接口,传入data
        fetch('/getArgs', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(data)
        })
        document.querySelector('#predictProgress').style.display = "block";
        progressInterval = setInterval(function () {
          fetch('/progress')
            .then(res => res.json())
            .then(data => {
              updateProgress(data);
              if (data.predict_finish) {
                clearInterval(progressInterval);
              }
            });
        }, 500);
      });
    });
    // 点击取消后开始预测
    $(function () {
      $('#nojoinDbBtn').click(function () {
        let options = $('input[name="options"]:checked').map(function () {
          return $(this).val();
        }).get();
        // 构造请求参数
        let data = {
          "options": options,
          "join": "no"
        }
        // 调用/Predict接口,传入data
        fetch('/getArgs', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(data)
        })
        document.querySelector('#predictProgress').style.display = "block";
        progressInterval = setInterval(function () {
          fetch('/progress')
            .then(res => res.json())
            .then(data => {
              updateProgress(data);
              if (data.predict_finish) {
                clearInterval(progressInterval);
              }
            });
        }, 500);
      });
    });
    function updateProgress(data) {
      progressBar.style.width = data.progress;  // 更新进度条的宽度
      progressBar.innerHTML = data.title;  // 更新进度条的标题
    }
  </script>
  <div class="footer wf-section">
    <div class="w-container">
      <div class="w-row">
        <div class="spc w-col w-col-6">
          <h5 class="heading">aBOUT SoyDNGP</h5>
          <p class="paragraph-3">SoyDNGP, an advanced webserver designed to utilize the power of convolutional neural
            network-based models for the prediction of agronomic traits in soybean. Built to serve the burgeoning field
            of agriculture, our server supports the analysis of a comprehensive range of traits.</p>
        </div>
        <div class="spc w-col w-col-6">
          <h5>useful links</h5>
          <a href="https://www.soybase.org/snps/" class="footer-link">the SoyBase SNP page</a>
          <a href="https://npgsweb.ars-grin.gov/gringlobal/descriptors" class="footer-link">GRIN-Global website</a>
          <a href="https://www.biorxiv.org/content/10.1101/2023.06.15.545107v1" class="footer-link">Our article</a>
          <div class="footer-link-wrapper w-clearfix"><img src="../static/images/social-33.svg" width="20" alt=""
              class="info-icon">
            <a href="https://github.com/IndigoFloyd/SoybeanWebsite" class="footer-link with-icon">GitHub</a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="footer center footer2 wf-section">
    <div class="w-container">
      <div class="footer-text">CopyRight © 2020 ~ 2021 National Key Laboratory of Crop Genetic Improvement, Huazhong
        Agricultural University<br></div><img src="../static/images/-nre42yj30rlfcjd7-001.png" loading="lazy"
        width="100" sizes="99.99609375px"
        srcset="../static/images/-nre42yj30rlfcjd7-001-p-500.png 500w, ../static/images/-nre42yj30rlfcjd7-001.png 770w"
        alt="" class="image">
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=6475428339f277007afc4798"
    type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous"></script>
  <script src="../static/js/webflow.js" type="text/javascript"></script>
  <script src="../static/js/bootstrap.bundle.min.js"></script>

</body>

</html>